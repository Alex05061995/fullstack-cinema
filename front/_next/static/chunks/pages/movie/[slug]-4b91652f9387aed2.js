(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[226],{10957:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/movie/[slug]",function(){return n(1836)}])},90528:function(e,t,n){"use strict";n.d(t,{r:function(){return a}});var i=n(49424),r=n(48974),l=n(88767);let a=()=>{let{user:e}=(0,i.a)(),{isLoading:t,data:n,refetch:a}=(0,l.useQuery)("Favorite movies",()=>r.W.getFavorites(),{select:e=>{let{data:t}=e;return t},enabled:!!e});return{isLoading:t,favorites:n,refetch:a}}},13029:function(e,t,n){"use strict";n.d(t,{Z:function(){return x}});var i=n(85893),r=n(67294),l=n(90528),a=n(88767),s=n(48974),o=n(88116),c=n(54760),u=n.n(c),d=n(94184),_=n.n(d),m={src:"/_next/static/media/heart-animation.45ff2efe.png",height:100,width:2900,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAABCAYAAADjAO9DAAAAK0lEQVR4nGO8VLBd6be4Hif7p5YnnJf/8jJ8/vmN5ceXvwyffzMy/v7HAAATbBFly0lV1gAAAABJRU5ErkJggg==",blurWidth:8,blurHeight:1};let g=e=>{let{movieId:t}=e,[n,c]=(0,r.useState)(!1),{favorites:d,refetch:g}=(0,l.r)();(0,r.useEffect)(()=>{if(!d)return;let e=d.some(e=>e._id===t);n!==e&&c(e)},[d,n,t]);let{mutateAsync:x}=(0,a.useMutation)("update favorites",()=>s.W.toggleFavorite(t),{onError:e=>{(0,o._)(e,"Update favorite list")},onSuccess:()=>{c(!n),g()}});return(0,i.jsx)("button",{onClick:()=>x(),className:_()(u().button,{[u().animate]:n}),style:{backgroundImage:m?"url(".concat(m.src,")"):"url('../media/heart-animation.png')"}})};var x=g},7793:function(e,t,n){"use strict";var i=n(85893),r=n(73248),l=n(37028),a=n.n(l);let s=e=>{let{items:t}=e;return(0,i.jsx)("div",{className:a().gallery,children:t.map(e=>(0,i.jsx)(r.Z,{item:e,variant:"vertical"},e.link))})};t.Z=s},73248:function(e,t,n){"use strict";var i=n(85893),r=n(41664),l=n.n(r),a=n(37028),s=n.n(a),o=n(94184),c=n.n(o),u=n(25675),d=n.n(u);let _=e=>{let{item:t,variant:n}=e;return(0,i.jsxs)(l(),{href:t.link,className:c()(s().item,{[s().withText]:t.content,[s().horizontal]:"horizontal"===n,[s().vertical]:"vertical"===n}),children:[(0,i.jsx)(d(),{alt:t.name,src:t.posterPath,fill:!0,draggable:"false",priority:!0}),t.content&&(0,i.jsxs)("div",{className:s().content,children:[(0,i.jsx)("div",{className:s().title,children:t.content.title}),t.content.subTitle&&(0,i.jsx)("div",{className:s().subTitle,children:t.content.subTitle})]})]})};t.Z=_},40077:function(e,t,n){"use strict";var i=n(85893);let r=e=>{let{title:t,className:n}=e;return(0,i.jsx)("h1",{className:"text-white text-opacity-80 font-semibold ".concat((null==n?void 0:n.includes("xl"))?"":"text-3xl"," ").concat(n),children:t})};t.Z=r},94061:function(e,t,n){"use strict";var i=n(85893);let r=e=>{let{title:t}=e;return(0,i.jsx)("h2",{className:"text-white text-xl mb-5 font-semibold",children:t})};t.Z=r},48974:function(e,t,n){"use strict";n.d(t,{W:function(){return l}});var i=n(18016),r=n(68707);let l={getAll:async e=>r.ZP.get((0,i.Il)(""),{params:e?{searchTerm:e}:{}}),getProfile:async()=>r.ZP.get((0,i.Il)("/profile")),getFavorites:async()=>r.ZP.get((0,i.Il)("profile/favorites")),toggleFavorite:async e=>r.ZP.put((0,i.Il)("profile/favorites"),{movieId:e}),updateProfile:async e=>r.ZP.put((0,i.Il)("/profile"),e),getById:async e=>r.ZP.get((0,i.Il)("/".concat(e))),update:async(e,t)=>r.ZP.put((0,i.Il)("/".concat(e)),t),deleteUser:async e=>r.ZP.delete((0,i.Il)("/".concat(e)))}},45495:function(e,t,n){"use strict";n.d(t,{Z:function(){return m}});var i=n(85893),r=n(9008),l=n.n(r),a=n(11163),s=n(40865);let o="Online cinema",c=e=>"".concat(e," | ").concat(o),u=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=e.replace(/<[^>]+>/g,"").replace(/&[^;]+>./g," ").replace(/([\u2700-\u27BF] | [\uE000-\uF8FF] | \uD83C[\uDC00-\uDFFF] | \uD83D[\uDC00-\uDFFF] | [\u2011-\u26FF] | \uD83E[\uDD10-\uDDFF])/g,"");return t&&(n=n.slice(0,t)+"..."),n};var d=n(83454);let _=e=>{let{title:t,description:n,image:r,children:_}=e,{asPath:m}=(0,a.useRouter)(),g="".concat(d.env.REACT_APP_URL).concat(m);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(l(),{children:[(0,i.jsx)("title",{itemProp:"headline",children:c(t)}),n?(0,i.jsxs)(l(),{children:[(0,i.jsx)("meta",{itemProp:"description",name:"description",content:u(n,152)}),(0,i.jsx)("link",{rel:"canonical",href:g}),(0,i.jsx)("meta",{property:"og:locale",content:"en"}),(0,i.jsx)("meta",{property:"og:title",content:c(t)}),(0,i.jsx)("meta",{property:"og:url",content:g}),(0,i.jsx)("meta",{property:"og:image",content:r||s.Z}),(0,i.jsx)("meta",{property:"og:site_name",content:o}),(0,i.jsx)("meta",{property:"og:description",content:u(n,197)})]}):(0,i.jsx)("meta",{name:"robots",content:"noindex, nofollow"})]}),_]})};var m=_},5838:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return a}});var i=n(85893),r=n(40077),l=n(45495);function a(){return(0,i.jsx)(l.Z,{title:"Page not found",children:(0,i.jsx)(r.Z,{title:"404 - Page not found"})})}},1836:function(e,t,n){"use strict";n.r(t),n.d(t,{__N_SSG:function(){return C},default:function(){return B}});var i=n(85893),r=n(45495),l=n(48210),a=n.n(l),s=n(25675),o=n.n(s);let c=e=>{let{image:t,Detail:n}=e;return(0,i.jsxs)("div",{className:a().banner,children:[(0,i.jsx)(o(),{src:t,draggable:!1,fill:!0,className:"image-like-bg object-top",unoptimized:!0,priority:!0,alt:""}),n&&(0,i.jsx)(n,{})]})};var u=n(94061),d=n(7793),_=n(37416),m=n(89583),g=n(67294),x=n(99795),f=n.n(x),p=n(41664),v=n.n(p);let h=e=>{let{links:t,name:n}=e;return(0,i.jsx)("div",{className:f().list,children:(0,i.jsx)("div",{className:f().link,children:t.map((e,r)=>(0,i.jsxs)(g.Fragment,{children:[(0,i.jsxs)(v(),{className:f().href,href:e.link,children:[n," : ",e.title]}),r+1!==t.length?",":""]},e.link))})})};var j=n(70242),b=n.n(j),y=n(13029);let A=e=>{let{movie:t}=e;return(0,i.jsxs)("div",{className:b().content,children:[(0,i.jsx)("h1",{children:t.title}),(0,i.jsxs)("div",{className:b().details,children:[(0,i.jsxs)("span",{children:[t.parametrs.year," . "]}),(0,i.jsxs)("span",{children:[t.parametrs.country," . "]}),(0,i.jsxs)("span",{children:[t.parametrs.duration," min. "]})]}),(0,i.jsx)(h,{name:"Genres",links:t.genres.slice(0,3).map(e=>({_id:e._id,link:(0,m.i8)(e.slug),title:e.name}))}),(0,i.jsx)(h,{name:"Actors",links:t.actors.slice(0,3).map(e=>({_id:e._id,link:(0,m.F_)(e.slug),title:e.name}))}),(0,i.jsxs)("div",{className:b().rating,children:[(0,i.jsx)(_.O,{name:"MdStarRate"}),(0,i.jsx)("span",{children:t.rating.toFixed(1)})]}),(0,i.jsx)(y.Z,{movieId:t._id})]})};var k=n(5152),F=n.n(k),N=n(76962),Z=n(88767);let w=e=>{let{mutateAsync:t}=(0,Z.useMutation)("update count opened",()=>N.u.updateCountOpened(e));(0,g.useEffect)(()=>{t()},[])},P=F()(()=>n.e(647).then(n.bind(n,55647)),{loadableGenerated:{webpack:()=>[55647]},ssr:!1}),D=F()(()=>n.e(407).then(n.bind(n,88407)),{loadableGenerated:{webpack:()=>[88407]},ssr:!1}),E=e=>{let{movie:t,similarMovies:n}=e;return w(t.slug),(0,i.jsxs)(r.Z,{title:(null==t?void 0:t.title)||"",description:"Watch ".concat(null==t?void 0:t.title),children:[(0,i.jsx)(c,{image:(null==t?void 0:t.bigPoster)||"",Detail:()=>(0,i.jsx)(A,{movie:t})}),(0,i.jsx)(P,{slug:t.slug,videoSource:t.videoUrl}),(0,i.jsxs)("div",{className:"mt-12",children:[(0,i.jsx)(u.Z,{title:"Similar"}),(0,i.jsx)(d.Z,{items:n})]}),(0,i.jsx)(D,{slug:t.slug,id:t._id})]})};var I=n(5838);let T=e=>{let{similarMovies:t,movie:n}=e;return n?(0,i.jsx)(E,{similarMovies:t||[],movie:n}):(0,i.jsx)(I.default,{})};var C=!0,B=T},99795:function(e){e.exports={list:"contentList_list__z4yFg",name:"contentList_name__zykk6",links:"contentList_links__mj1WZ",href:"contentList_href__8Jkvv"}},70242:function(e){e.exports={content:"content_content__0eJwC",rating:"content_rating__KiwUq",details:"content_details__o5HQF"}},54760:function(e){e.exports={button:"favoriteButton_button__cTJ3g",animate:"favoriteButton_animate__I4jCg","heart-burst":"favoriteButton_heart-burst__wWkgs"}},48210:function(e){e.exports={banner:"bunner_banner__PxazH"}},37028:function(e){e.exports={gallery:"gallery_gallery__ul_3m",item:"gallery_item__td6S1",vertical:"gallery_vertical__6F_xa",horizontal:"gallery_horizontal__vbfk3",withText:"gallery_withText__g4Kcw",content:"gallery_content__NN6Z7",title:"gallery_title__9evqb",subTitle:"gallery_subTitle__IG1Sn"}}},function(e){e.O(0,[774,888,179],function(){return e(e.s=10957)}),_N_E=e.O()}]);