(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[389],{91903:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/favorites",function(){return n(77881)}])},90528:function(e,t,n){"use strict";n.d(t,{r:function(){return o}});var r=n(49424),a=n(48974),i=n(88767);let o=()=>{let{user:e}=(0,r.a)(),{isLoading:t,data:n,refetch:o}=(0,i.useQuery)("Favorite movies",()=>a.W.getFavorites(),{select:e=>{let{data:t}=e;return t},enabled:!!e});return{isLoading:t,favorites:n,refetch:o}}},13029:function(e,t,n){"use strict";n.d(t,{Z:function(){return _}});var r=n(85893),a=n(67294),i=n(90528),o=n(88767),s=n(48974),l=n(88116),c=n(54760),u=n.n(c),f=n(94184),d=n.n(f),p={src:"/_next/static/media/heart-animation.45ff2efe.png",height:100,width:2900,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAABCAYAAADjAO9DAAAAK0lEQVR4nGO8VLBd6be4Hif7p5YnnJf/8jJ8/vmN5ceXvwyffzMy/v7HAAATbBFly0lV1gAAAABJRU5ErkJggg==",blurWidth:8,blurHeight:1};let v=e=>{let{movieId:t}=e,[n,c]=(0,a.useState)(!1),{favorites:f,refetch:v}=(0,i.r)();(0,a.useEffect)(()=>{if(!f)return;let e=f.some(e=>e._id===t);n!==e&&c(e)},[f,n,t]);let{mutateAsync:_}=(0,o.useMutation)("update favorites",()=>s.W.toggleFavorite(t),{onError:e=>{(0,l._)(e,"Update favorite list")},onSuccess:()=>{c(!n),v()}});return(0,r.jsx)("button",{onClick:()=>_(),className:d()(u().button,{[u().animate]:n}),style:{backgroundImage:p?"url(".concat(p.src,")"):"url('../media/heart-animation.png')"}})};var _=v},40077:function(e,t,n){"use strict";var r=n(85893);let a=e=>{let{title:t,className:n}=e;return(0,r.jsx)("h1",{className:"text-white text-opacity-80 font-semibold ".concat((null==n?void 0:n.includes("xl"))?"":"text-3xl"," ").concat(n),children:t})};t.Z=a},48974:function(e,t,n){"use strict";n.d(t,{W:function(){return i}});var r=n(18016),a=n(68707);let i={getAll:async e=>a.ZP.get((0,r.Il)(""),{params:e?{searchTerm:e}:{}}),getProfile:async()=>a.ZP.get((0,r.Il)("/profile")),getFavorites:async()=>a.ZP.get((0,r.Il)("profile/favorites")),toggleFavorite:async e=>a.ZP.put((0,r.Il)("profile/favorites"),{movieId:e}),updateProfile:async e=>a.ZP.put((0,r.Il)("/profile"),e),getById:async e=>a.ZP.get((0,r.Il)("/".concat(e))),update:async(e,t)=>a.ZP.put((0,r.Il)("/".concat(e)),t),deleteUser:async e=>a.ZP.delete((0,r.Il)("/".concat(e)))}},45495:function(e,t,n){"use strict";n.d(t,{Z:function(){return p}});var r=n(85893),a=n(9008),i=n.n(a),o=n(11163),s=n(40865);let l="Online cinema",c=e=>"".concat(e," | ").concat(l),u=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=e.replace(/<[^>]+>/g,"").replace(/&[^;]+>./g," ").replace(/([\u2700-\u27BF] | [\uE000-\uF8FF] | \uD83C[\uDC00-\uDFFF] | \uD83D[\uDC00-\uDFFF] | [\u2011-\u26FF] | \uD83E[\uDD10-\uDDFF])/g,"");return t&&(n=n.slice(0,t)+"..."),n};var f=n(83454);let d=e=>{let{title:t,description:n,image:a,children:d}=e,{asPath:p}=(0,o.useRouter)(),v="".concat(f.env.REACT_APP_URL).concat(p);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(i(),{children:[(0,r.jsx)("title",{itemProp:"headline",children:c(t)}),n?(0,r.jsxs)(i(),{children:[(0,r.jsx)("meta",{itemProp:"description",name:"description",content:u(n,152)}),(0,r.jsx)("link",{rel:"canonical",href:v}),(0,r.jsx)("meta",{property:"og:locale",content:"en"}),(0,r.jsx)("meta",{property:"og:title",content:c(t)}),(0,r.jsx)("meta",{property:"og:url",content:v}),(0,r.jsx)("meta",{property:"og:image",content:a||s.Z}),(0,r.jsx)("meta",{property:"og:site_name",content:l}),(0,r.jsx)("meta",{property:"og:description",content:u(n,197)})]}):(0,r.jsx)("meta",{name:"robots",content:"noindex, nofollow"})]}),d]})};var p=d},77881:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return A}});var r=n(85893),a=n(40077),i=n(45495);n(67294);var o=n(19648),s=n.n(o),l=n(90528),c=n(4663),u=n(41664),f=n.n(u),d=n(13029),p=n(89583),v=n(25675),_=n.n(v);let m=e=>{let{movie:t}=e;return(0,r.jsxs)("div",{className:s().itemWrapper,children:[(0,r.jsx)(d.Z,{movieId:t._id}),(0,r.jsxs)(f(),{href:(0,p.Xl)(t.slug),className:s().item,children:[(0,r.jsx)(_(),{alt:t.title,src:t.bigPoster,fill:!0,draggable:!1,priority:!0}),(0,r.jsx)("div",{className:s().title,children:t.title})]})]})},g=()=>{let{favorites:e,isLoading:t}=(0,l.r)();return(0,r.jsxs)(i.Z,{title:"Favorites",children:[(0,r.jsx)(a.Z,{title:"Favorites"}),(0,r.jsx)("section",{className:s().favorites,children:t?(0,r.jsx)(c.Z,{count:3,className:s().skeletonLoader,containerClassName:s().containerLoader}):null==e?void 0:e.map(e=>(0,r.jsx)(m,{movie:e},e._id))})]})},x=()=>(0,r.jsx)(g,{});var A=x},19648:function(e){e.exports={favorites:"favorite_favorites__99C7n",containerLoader:"favorite_containerLoader__yI20V",skeletonLoader:"favorite_skeletonLoader__DuEcG",itemWrapper:"favorite_itemWrapper__JKPvm",fade:"favorite_fade__p4R1o",item:"favorite_item__4jbCS",title:"favorite_title__LnIBY"}},54760:function(e){e.exports={button:"favoriteButton_button__cTJ3g",animate:"favoriteButton_animate__I4jCg","heart-burst":"favoriteButton_heart-burst__wWkgs"}}},function(e){e.O(0,[774,888,179],function(){return e(e.s=91903)}),_N_E=e.O()}]);