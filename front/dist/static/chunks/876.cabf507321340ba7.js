(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[876],{84993:function(e,r,t){"use strict";var n=t(85893),l=t(91691),s=t.n(l),a=t(41664),o=t.n(a),i=t(36470);let c=e=>{let{slug:r}=e;return(0,n.jsx)(o(),{className:s().btn,href:"/auth?redirect=".concat((0,i.Xl)(r)),children:"Sign in"})};r.Z=c},95876:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return f}});var n=t(85893),l=t(94184),s=t.n(l),a=t(3872),o=t(91691),i=t.n(o),c=t(84993);let u=e=>{let{slug:r}=e;return(0,n.jsx)("div",{className:i().placeholder,children:(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{children:"You must be logged in to start watching"}),(0,n.jsx)(c.Z,{slug:r})]})})};var d=t(67294);let v=()=>{var e;let r=(0,d.useRef)(null),[t,n]=(0,d.useState)(!1),[l,s]=(0,d.useState)(0),[a,o]=(0,d.useState)(0),[i,c]=(0,d.useState)(0);(0,d.useEffect)(()=>{var e;let t=null===(e=r.current)||void 0===e?void 0:e.duration;t&&o(t)},[null===(e=r.current)||void 0===e?void 0:e.duration]);let u=(0,d.useCallback)(()=>{var e,l;t?(null===(l=r.current)||void 0===l||l.pause(),n(!1)):(null===(e=r.current)||void 0===e||e.play(),n(!0))},[t]),v=()=>{r.current&&(r.current.currentTime+=10)},p=()=>{r.current&&(r.current.currentTime-=10)},m=()=>{let e=r.current;e&&(e.requestFullscreen?e.requestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullScreen&&e.webkitRequestFullScreen())};return(0,d.useEffect)(()=>{let e=r.current;if(!e)return;let t=()=>{s(e.currentTime),c(e.currentTime/a*100)};return e.addEventListener("timeupdate",t),()=>{e.removeEventListener("timeupdate",t)}},[a]),(0,d.useEffect)(()=>{let e=e=>{switch(e.key){case"ArrowRight":v();break;case"ArrowLeft":p();break;case" ":e.preventDefault(),u();break;case"f":m();break;default:return}};return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}},[u]),(0,d.useMemo)(()=>({videoRef:r,actions:{fullScreen:m,revert:p,forward:v,toggleVideo:u},video:{isPlaying:t,currentTime:l,progress:i,videoTime:a}}),[t,l,i,a,u])};var p=t(21803),m=t.n(p),h=t(82875);let _=e=>{let{slug:r,videoSource:t}=e,{actions:l,video:o,videoRef:i}=v(),{user:c}=(0,h.a)();return(0,n.jsx)("div",{className:s()(m().wrapper,{"h-96":!c}),children:c?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("video",{className:m().video,src:"".concat(t,"#t=8"),ref:i,preload:"metadata"}),(0,n.jsx)("div",{className:m().progressBarContainer,children:(0,n.jsx)("div",{className:m().progressBar,style:{width:"".concat(o.progress,"%")}})}),(0,n.jsxs)("div",{className:m().controls,children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("button",{onClick:l.revert,children:(0,n.jsx)(a.O,{name:"MdHistory"})}),(0,n.jsx)("button",{onClick:l.toggleVideo,children:(0,n.jsx)(a.O,{name:o.isPlaying?"MdPause":"MdPlayArrow"})}),(0,n.jsx)("button",{onClick:l.forward,children:(0,n.jsx)(a.O,{name:"MdUpdate"})}),(0,n.jsxs)("div",{className:m().timeControls,children:[(0,n.jsx)("p",{className:m().controlsTime,children:Math.floor(o.currentTime/60)+":"+("0"+Math.floor(o.currentTime%60)).slice(-2)}),(0,n.jsx)("p",{children:" / "}),(0,n.jsx)("p",{className:m().controlsTime,children:Math.floor(o.videoTime/60)+":"+("0"+Math.floor(o.videoTime%60)).slice(-2)})]})]}),(0,n.jsx)("div",{children:(0,n.jsx)("button",{onClick:l.fullScreen,children:(0,n.jsx)(a.O,{name:"MdFullscreen"})})})]})]}):(0,n.jsx)(u,{slug:r})})};var f=_},91691:function(e){e.exports={placeholder:"authPlaceholder_placeholder__pOln4",btn:"authPlaceholder_btn__gXofK"}},21803:function(e){e.exports={wrapper:"video-player_wrapper__boDgv",fade:"video-player_fade__Ful_N",controls:"video-player_controls__alkE0",playButton:"video-player_playButton__4POqV",timeControls:"video-player_timeControls__Iogur",video:"video-player_video__2xCHy",progressBarContainer:"video-player_progressBarContainer__ggX_4",progressBar:"video-player_progressBar__cOmVC"}}}]);