(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[389],{91903:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/favorites",function(){return n(44253)}])},59488:function(e,t,n){"use strict";n.d(t,{r:function(){return o}});var r=n(82875),a=n(80774),i=n(88767);let o=()=>{let{user:e}=(0,r.a)(),{isLoading:t,data:n,refetch:o}=(0,i.useQuery)("Favorite movies",()=>a.W.getFavorites(),{select:e=>{let{data:t}=e;return t},enabled:!!e});return{isLoading:t,favorites:n,refetch:o}}},32220:function(e,t,n){"use strict";n.d(t,{Z:function(){return _}});var r=n(85893),a=n(67294),i=n(59488),o=n(88767),s=n(80774),c=n(44460),l=n(75569),u=n.n(l),d=n(94184),f=n.n(d),A={src:"/_next/static/media/heart-animation.45ff2efe.png",height:100,width:2900,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAABCAMAAADU3h9xAAAABlBMVEXaNFbbOV02h7KcAAAAAnRSTlMQF7+CWq4AAAAJcEhZcwAACxMAAAsTAQCanBgAAAAPSURBVHicY2BkZGRkAAIAACMABcniKdwAAAAASUVORK5CYII=",blurWidth:8,blurHeight:1};let p=e=>{let{movieId:t}=e,[n,l]=(0,a.useState)(!1),{favorites:d,refetch:p}=(0,i.r)();(0,a.useEffect)(()=>{if(!d)return;let e=d.some(e=>e._id===t);n!==e&&l(e)},[d,n,t]);let{mutateAsync:_}=(0,o.useMutation)("update favorites",()=>s.W.toggleFavorite(t),{onError:e=>{(0,c._)(e,"Update favorite list")},onSuccess:()=>{l(!n),p()}});return(0,r.jsx)("button",{onClick:()=>_(),className:f()(u().button,{[u().animate]:n}),style:{backgroundImage:A?"url(".concat(A.src,")"):"url('../media/heart-animation.png')"}})};var _=p},48135:function(e,t,n){"use strict";var r=n(85893);let a=e=>{let{title:t,className:n}=e;return(0,r.jsx)("h1",{className:"text-white text-opacity-80 font-semibold ".concat((null==n?void 0:n.includes("xl"))?"":"text-3xl"," ").concat(n),children:t})};t.Z=a},80774:function(e,t,n){"use strict";n.d(t,{W:function(){return i}});var r=n(4754),a=n(81759);let i={getAll:async e=>a.ZP.get((0,r.Il)(""),{params:e?{searchTerm:e}:{}}),getProfile:async()=>a.ZP.get((0,r.Il)("/profile")),getFavorites:async()=>a.ZP.get((0,r.Il)("profile/favorites")),toggleFavorite:async e=>a.ZP.put((0,r.Il)("profile/favorites"),{movieId:e}),updateProfile:async e=>a.ZP.put((0,r.Il)("/profile"),e),getById:async e=>a.ZP.get((0,r.Il)("/".concat(e))),update:async(e,t)=>a.ZP.put((0,r.Il)("/".concat(e)),t),deleteUser:async e=>a.ZP.delete((0,r.Il)("/".concat(e)))}},79671:function(e,t,n){"use strict";n.d(t,{Z:function(){return A}});var r=n(85893),a=n(9008),i=n.n(a),o=n(11163),s=n(28975);let c="Online cinema",l=e=>"".concat(e," | ").concat(c),u=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=e.replace(/<[^>]+>/g,"").replace(/&[^;]+>./g," ").replace(/([\u2700-\u27BF] | [\uE000-\uF8FF] | \uD83C[\uDC00-\uDFFF] | \uD83D[\uDC00-\uDFFF] | [\u2011-\u26FF] | \uD83E[\uDD10-\uDDFF])/g,"");return t&&(n=n.slice(0,t)+"..."),n};var d=n(83454);let f=e=>{let{title:t,description:n,image:a,children:f}=e,{asPath:A}=(0,o.useRouter)(),p="".concat(d.env.REACT_APP_URL).concat(A);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(i(),{children:[(0,r.jsx)("title",{itemProp:"headline",children:l(t)}),n?(0,r.jsxs)(i(),{children:[(0,r.jsx)("meta",{itemProp:"description",name:"description",content:u(n,152)}),(0,r.jsx)("link",{rel:"canonical",href:p}),(0,r.jsx)("meta",{property:"og:locale",content:"en"}),(0,r.jsx)("meta",{property:"og:title",content:l(t)}),(0,r.jsx)("meta",{property:"og:url",content:p}),(0,r.jsx)("meta",{property:"og:image",content:a||s.Z}),(0,r.jsx)("meta",{property:"og:site_name",content:c}),(0,r.jsx)("meta",{property:"og:description",content:u(n,197)})]}):(0,r.jsx)("meta",{name:"robots",content:"noindex, nofollow"})]}),f]})};var A=f},44253:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return x}});var r=n(85893),a=n(48135),i=n(79671);n(67294);var o=n(90644),s=n.n(o),c=n(59488),l=n(68347),u=n(41664),d=n.n(u),f=n(32220),A=n(36470),p=n(25675),_=n.n(p);let m=e=>{let{movie:t}=e;return(0,r.jsxs)("div",{className:s().itemWrapper,children:[(0,r.jsx)(f.Z,{movieId:t._id}),(0,r.jsxs)(d(),{href:(0,A.Xl)(t.slug),className:s().item,children:[(0,r.jsx)(_(),{alt:t.title,src:t.bigPoster,fill:!0,draggable:!1,priority:!0}),(0,r.jsx)("div",{className:s().title,children:t.title})]})]})},v=()=>{let{favorites:e,isLoading:t}=(0,c.r)();return(0,r.jsxs)(i.Z,{title:"Favorites",children:[(0,r.jsx)(a.Z,{title:"Favorites"}),(0,r.jsx)("section",{className:s().favorites,children:t?(0,r.jsx)(l.Z,{count:3,className:s().skeletonLoader,containerClassName:s().containerLoader}):null==e?void 0:e.map(e=>(0,r.jsx)(m,{movie:e},e._id))})]})},g=()=>(0,r.jsx)(v,{});var x=g},90644:function(e){e.exports={favorites:"favorite_favorites__99C7n",containerLoader:"favorite_containerLoader__yI20V",skeletonLoader:"favorite_skeletonLoader__DuEcG",itemWrapper:"favorite_itemWrapper__JKPvm",fade:"favorite_fade__p4R1o",item:"favorite_item__4jbCS",title:"favorite_title__LnIBY"}},75569:function(e){e.exports={button:"favoriteButton_button__cTJ3g",animate:"favoriteButton_animate__I4jCg","heart-burst":"favoriteButton_heart-burst__wWkgs"}}},function(e){e.O(0,[774,888,179],function(){return e(e.s=91903)}),_N_E=e.O()}]);