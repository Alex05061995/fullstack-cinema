(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[226],{10957:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/movie/[slug]",function(){return n(32961)}])},59488:function(e,t,n){"use strict";n.d(t,{r:function(){return a}});var i=n(82875),r=n(80774),l=n(88767);let a=()=>{let{user:e}=(0,i.a)(),{isLoading:t,data:n,refetch:a}=(0,l.useQuery)("Favorite movies",()=>r.W.getFavorites(),{select:e=>{let{data:t}=e;return t},enabled:!!e});return{isLoading:t,favorites:n,refetch:a}}},32220:function(e,t,n){"use strict";n.d(t,{Z:function(){return x}});var i=n(85893),r=n(67294),l=n(59488),a=n(88767),s=n(80774),c=n(44460),o=n(75569),u=n.n(o),d=n(94184),_=n.n(d),m={src:"/_next/static/media/heart-animation.45ff2efe.png",height:100,width:2900,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAABCAMAAADU3h9xAAAABlBMVEXaNFbbOV02h7KcAAAAAnRSTlMQF7+CWq4AAAAJcEhZcwAACxMAAAsTAQCanBgAAAAPSURBVHicY2BkZGRkAAIAACMABcniKdwAAAAASUVORK5CYII=",blurWidth:8,blurHeight:1};let g=e=>{let{movieId:t}=e,[n,o]=(0,r.useState)(!1),{favorites:d,refetch:g}=(0,l.r)();(0,r.useEffect)(()=>{if(!d)return;let e=d.some(e=>e._id===t);n!==e&&o(e)},[d,n,t]);let{mutateAsync:x}=(0,a.useMutation)("update favorites",()=>s.W.toggleFavorite(t),{onError:e=>{(0,c._)(e,"Update favorite list")},onSuccess:()=>{o(!n),g()}});return(0,i.jsx)("button",{onClick:()=>x(),className:_()(u().button,{[u().animate]:n}),style:{backgroundImage:m?"url(".concat(m.src,")"):"url('../media/heart-animation.png')"}})};var x=g},96092:function(e,t,n){"use strict";var i=n(85893),r=n(60594),l=n(73760),a=n.n(l);let s=e=>{let{items:t}=e;return(0,i.jsx)("div",{className:a().gallery,children:t.map(e=>(0,i.jsx)(r.Z,{item:e,variant:"vertical"},e.link))})};t.Z=s},60594:function(e,t,n){"use strict";var i=n(85893),r=n(41664),l=n.n(r),a=n(73760),s=n.n(a),c=n(94184),o=n.n(c),u=n(25675),d=n.n(u);let _=e=>{let{item:t,variant:n}=e;return(0,i.jsxs)(l(),{href:t.link,className:o()(s().item,{[s().withText]:t.content,[s().horizontal]:"horizontal"===n,[s().vertical]:"vertical"===n}),children:[(0,i.jsx)(d(),{alt:t.name,src:t.posterPath,fill:!0,draggable:"false",priority:!0}),t.content&&(0,i.jsxs)("div",{className:s().content,children:[(0,i.jsx)("div",{className:s().title,children:t.content.title}),t.content.subTitle&&(0,i.jsx)("div",{className:s().subTitle,children:t.content.subTitle})]})]})};t.Z=_},48135:function(e,t,n){"use strict";var i=n(85893);let r=e=>{let{title:t,className:n}=e;return(0,i.jsx)("h1",{className:"text-white text-opacity-80 font-semibold ".concat((null==n?void 0:n.includes("xl"))?"":"text-3xl"," ").concat(n),children:t})};t.Z=r},11946:function(e,t,n){"use strict";var i=n(85893);let r=e=>{let{title:t}=e;return(0,i.jsx)("h2",{className:"text-white text-xl mb-5 font-semibold",children:t})};t.Z=r},80774:function(e,t,n){"use strict";n.d(t,{W:function(){return l}});var i=n(4754),r=n(81759);let l={getAll:async e=>r.ZP.get((0,i.Il)(""),{params:e?{searchTerm:e}:{}}),getProfile:async()=>r.ZP.get((0,i.Il)("/profile")),getFavorites:async()=>r.ZP.get((0,i.Il)("profile/favorites")),toggleFavorite:async e=>r.ZP.put((0,i.Il)("profile/favorites"),{movieId:e}),updateProfile:async e=>r.ZP.put((0,i.Il)("/profile"),e),getById:async e=>r.ZP.get((0,i.Il)("/".concat(e))),update:async(e,t)=>r.ZP.put((0,i.Il)("/".concat(e)),t),deleteUser:async e=>r.ZP.delete((0,i.Il)("/".concat(e)))}},79671:function(e,t,n){"use strict";n.d(t,{Z:function(){return m}});var i=n(85893),r=n(9008),l=n.n(r),a=n(11163),s=n(28975);let c="Online cinema",o=e=>"".concat(e," | ").concat(c),u=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=e.replace(/<[^>]+>/g,"").replace(/&[^;]+>./g," ").replace(/([\u2700-\u27BF] | [\uE000-\uF8FF] | \uD83C[\uDC00-\uDFFF] | \uD83D[\uDC00-\uDFFF] | [\u2011-\u26FF] | \uD83E[\uDD10-\uDDFF])/g,"");return t&&(n=n.slice(0,t)+"..."),n};var d=n(83454);let _=e=>{let{title:t,description:n,image:r,children:_}=e,{asPath:m}=(0,a.useRouter)(),g="".concat(d.env.REACT_APP_URL).concat(m);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(l(),{children:[(0,i.jsx)("title",{itemProp:"headline",children:o(t)}),n?(0,i.jsxs)(l(),{children:[(0,i.jsx)("meta",{itemProp:"description",name:"description",content:u(n,152)}),(0,i.jsx)("link",{rel:"canonical",href:g}),(0,i.jsx)("meta",{property:"og:locale",content:"en"}),(0,i.jsx)("meta",{property:"og:title",content:o(t)}),(0,i.jsx)("meta",{property:"og:url",content:g}),(0,i.jsx)("meta",{property:"og:image",content:r||s.Z}),(0,i.jsx)("meta",{property:"og:site_name",content:c}),(0,i.jsx)("meta",{property:"og:description",content:u(n,197)})]}):(0,i.jsx)("meta",{name:"robots",content:"noindex, nofollow"})]}),_]})};var m=_},57789:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return a}});var i=n(85893),r=n(48135),l=n(79671);function a(){return(0,i.jsx)(l.Z,{title:"Page not found",children:(0,i.jsx)(r.Z,{title:"404 - Page not found"})})}},32961:function(e,t,n){"use strict";n.r(t),n.d(t,{__N_SSG:function(){return T},default:function(){return B}});var i=n(85893),r=n(79671),l=n(15151),a=n.n(l),s=n(25675),c=n.n(s);let o=e=>{let{image:t,Detail:n}=e;return(0,i.jsxs)("div",{className:a().banner,children:[(0,i.jsx)(c(),{src:t,draggable:!1,fill:!0,className:"image-like-bg object-top",unoptimized:!0,priority:!0,alt:""}),n&&(0,i.jsx)(n,{})]})};var u=n(11946),d=n(96092),_=n(3872),m=n(36470),g=n(67294),x=n(1345),f=n.n(x),h=n(41664),p=n.n(h);let v=e=>{let{links:t,name:n}=e;return(0,i.jsx)("div",{className:f().list,children:(0,i.jsx)("div",{className:f().link,children:t.map((e,r)=>(0,i.jsxs)(g.Fragment,{children:[(0,i.jsxs)(p(),{className:f().href,href:e.link,children:[n," : ",e.title]}),r+1!==t.length?",":""]},e.link))})})};var j=n(30025),A=n.n(j),b=n(32220);let y=e=>{let{movie:t}=e;return(0,i.jsxs)("div",{className:A().content,children:[(0,i.jsx)("h1",{children:t.title}),(0,i.jsxs)("div",{className:A().details,children:[(0,i.jsxs)("span",{children:[t.parametrs.year," . "]}),(0,i.jsxs)("span",{children:[t.parametrs.country," . "]}),(0,i.jsxs)("span",{children:[t.parametrs.duration," min. "]})]}),(0,i.jsx)(v,{name:"Genres",links:t.genres.slice(0,3).map(e=>({_id:e._id,link:(0,m.i8)(e.slug),title:e.name}))}),(0,i.jsx)(v,{name:"Actors",links:t.actors.slice(0,3).map(e=>({_id:e._id,link:(0,m.F_)(e.slug?e.slug:""),title:e.name}))}),(0,i.jsxs)("div",{className:A().rating,children:[(0,i.jsx)(_.O,{name:"MdStarRate"}),(0,i.jsx)("span",{children:t.rating.toFixed(1)})]}),(0,i.jsx)(b.Z,{movieId:t._id})]})};var k=n(5152),F=n.n(k),N=n(27669),Z=n(88767);let w=e=>{let{mutateAsync:t}=(0,Z.useMutation)("update count opened",()=>N.u.updateCountOpened(e));(0,g.useEffect)(()=>{t()},[])},P=F()(()=>n.e(876).then(n.bind(n,95876)),{loadableGenerated:{webpack:()=>[95876]},ssr:!1}),I=F()(()=>n.e(865).then(n.bind(n,65865)),{loadableGenerated:{webpack:()=>[65865]},ssr:!1}),C=e=>{let{movie:t,similarMovies:n}=e;return w(t.slug),(0,i.jsxs)(r.Z,{title:(null==t?void 0:t.title)||"",description:"Watch ".concat(null==t?void 0:t.title),children:[(0,i.jsx)(o,{image:(null==t?void 0:t.bigPoster)||"",Detail:()=>(0,i.jsx)(y,{movie:t})}),(0,i.jsx)(P,{slug:t.slug,videoSource:t.videoUrl}),(0,i.jsxs)("div",{className:"mt-12",children:[(0,i.jsx)(u.Z,{title:"Similar"}),(0,i.jsx)(d.Z,{items:n})]}),(0,i.jsx)(I,{slug:t.slug,id:t._id})]})};var D=n(57789);let E=e=>{let{similarMovies:t,movie:n}=e;return n?(0,i.jsx)(C,{similarMovies:t||[],movie:n}):(0,i.jsx)(D.default,{})};var T=!0,B=E},1345:function(e){e.exports={list:"contentList_list__z4yFg",name:"contentList_name__zykk6",links:"contentList_links__mj1WZ",href:"contentList_href__8Jkvv"}},30025:function(e){e.exports={content:"content_content__0eJwC",rating:"content_rating__KiwUq",details:"content_details__o5HQF"}},75569:function(e){e.exports={button:"favoriteButton_button__cTJ3g",animate:"favoriteButton_animate__I4jCg","heart-burst":"favoriteButton_heart-burst__wWkgs"}},15151:function(e){e.exports={banner:"bunner_banner__PxazH"}},73760:function(e){e.exports={gallery:"gallery_gallery__ul_3m",item:"gallery_item__td6S1",vertical:"gallery_vertical__6F_xa",horizontal:"gallery_horizontal__vbfk3",withText:"gallery_withText__g4Kcw",content:"gallery_content__NN6Z7",title:"gallery_title__9evqb",subTitle:"gallery_subTitle__IG1Sn"}}},function(e){e.O(0,[774,888,179],function(){return e(e.s=10957)}),_N_E=e.O()}]);