(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[559],{55437:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/manage/actors",function(){return n(88130)}])},66263:function(e,t,n){"use strict";n.d(t,{Z:function(){return f}});var r=n(85893),a=n(67933),o=n.n(a),s=n(41664),c=n.n(s),i=n(94184),l=n.n(i),u=n(11163);let d=e=>{let{item:{title:t,link:n}}=e,{asPath:a}=(0,u.useRouter)();return(0,r.jsx)("li",{children:(0,r.jsx)(c(),{legacyBehavior:!0,href:n,children:(0,r.jsx)("a",{className:l()({[o().active]:a===n}),children:t})})})};var m=n(36470);let _=[{title:"Statistics",link:(0,m.wk)()},{title:"Users",link:(0,m.A7)("users")},{title:"Movies",link:(0,m.A7)("movies")},{title:"Actors",link:(0,m.A7)("actors")},{title:"Genres",link:(0,m.A7)("genres")}],x=()=>(0,r.jsx)("nav",{className:o().nav,children:(0,r.jsx)("ul",{children:_.map(e=>(0,r.jsx)(d,{item:e},e.link))})});var f=x},85903:function(e,t,n){"use strict";n.d(t,{Z:function(){return u}});var r=n(85893),a=n(52240),o=n(23141);let s=e=>{let{onClick:t}=e;return(0,r.jsx)(o.Z,{onClick:t,children:"Create new"})};var c=n(46652),i=n.n(c);let l=e=>{let{handleSearch:t,onClick:n,searchTerm:o}=e;return(0,r.jsxs)("div",{className:i().header,children:[(0,r.jsx)(a.Z,{searchTerm:o,handleSearch:t}),n&&(0,r.jsx)(s,{onClick:n})]})};var u=l},98561:function(e,t,n){"use strict";n.d(t,{Z:function(){return f}});var r=n(85893),a=n(68347),o=n(94184),s=n.n(o),c=n(47156),i=n.n(c);s();let l=e=>{let{headerItems:t}=e;return(0,r.jsxs)("div",{className:s()(i().item,i().itemHeader),children:[t.map(e=>(0,r.jsxs)("div",{children:[e," "]},e)),(0,r.jsx)("div",{children:"Actions"})]})};var u=n(3872),d=n(11163);let m=e=>{let{editUrl:t,removeHandler:n}=e,{push:a}=(0,d.useRouter)();return(0,r.jsxs)("div",{className:i().actions,children:[(0,r.jsx)("button",{onClick:()=>a(t),children:(0,r.jsx)(u.O,{name:"MdEdit"})}),(0,r.jsx)("button",{onClick:n,children:(0,r.jsx)(u.O,{name:"MdClose"})})]})},_=e=>{let{removeHandler:t,tableItem:n}=e,a=0;return(0,r.jsxs)("div",{className:i().item,children:[n.items.map(e=>(0,r.jsx)("div",{children:e},e+a++)),(0,r.jsx)(m,{editUrl:n.editUrl,removeHandler:t})]})},x=e=>{let{tableItems:t,headerItems:n,isLoading:o,removeHandler:s}=e;return(0,r.jsxs)("div",{children:[(0,r.jsx)(l,{headerItems:n}),o?(0,r.jsx)(a.Z,{count:1,height:48,className:"mt-4"}):t.length?t.map(e=>(0,r.jsx)(_,{removeHandler:()=>s(e._id),tableItem:e},e._id)):(0,r.jsx)("div",{className:i().notFound,children:"Elements not found"})]})};var f=x},23141:function(e,t,n){"use strict";var r=n(85893),a=n(94184),o=n.n(a),s=n(5130),c=n.n(s);let i=e=>{let{children:t,className:n,...a}=e;return(0,r.jsx)("button",{className:o()(c().button,n),...a,children:t})};t.Z=i},48135:function(e,t,n){"use strict";var r=n(85893);let a=e=>{let{title:t,className:n}=e;return(0,r.jsx)("h1",{className:"text-white text-opacity-80 font-semibold ".concat((null==n?void 0:n.includes("xl"))?"":"text-3xl"," ").concat(n),children:t})};t.Z=a},18361:function(e,t,n){"use strict";n.d(t,{V:function(){return o}});var r=n(4754),a=n(81759);let o={getAll:async e=>a.vV.get((0,r.bc)(""),{params:e?{searchTerm:e}:{}}),getBySlug:async e=>a.vV.get("actors/by-slug/".concat(e)),update:async(e,t)=>a.ZP.put((0,r.bc)("/".concat(e)),t),getById:async e=>a.ZP.get((0,r.bc)("/".concat(e))),delete:async e=>a.ZP.delete((0,r.bc)("/".concat(e))),create:async()=>a.ZP.post((0,r.bc)(""))}},79671:function(e,t,n){"use strict";n.d(t,{Z:function(){return _}});var r=n(85893),a=n(9008),o=n.n(a),s=n(11163),c=n(28975);let i="Online cinema",l=e=>"".concat(e," | ").concat(i),u=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=e.replace(/<[^>]+>/g,"").replace(/&[^;]+>./g," ").replace(/([\u2700-\u27BF] | [\uE000-\uF8FF] | \uD83C[\uDC00-\uDFFF] | \uD83D[\uDC00-\uDFFF] | [\u2011-\u26FF] | \uD83E[\uDD10-\uDDFF])/g,"");return t&&(n=n.slice(0,t)+"..."),n};var d=n(83454);let m=e=>{let{title:t,description:n,image:a,children:m}=e,{asPath:_}=(0,s.useRouter)(),x="".concat(d.env.REACT_APP_URL).concat(_);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(o(),{children:[(0,r.jsx)("title",{itemProp:"headline",children:l(t)}),n?(0,r.jsxs)(o(),{children:[(0,r.jsx)("meta",{itemProp:"description",name:"description",content:u(n,152)}),(0,r.jsx)("link",{rel:"canonical",href:x}),(0,r.jsx)("meta",{property:"og:locale",content:"en"}),(0,r.jsx)("meta",{property:"og:title",content:l(t)}),(0,r.jsx)("meta",{property:"og:url",content:x}),(0,r.jsx)("meta",{property:"og:image",content:a||c.Z}),(0,r.jsx)("meta",{property:"og:site_name",content:i}),(0,r.jsx)("meta",{property:"og:description",content:u(n,197)})]}):(0,r.jsx)("meta",{name:"robots",content:"noindex, nofollow"})]}),m]})};var _=m},88130:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return g}});var r=n(85893),a=n(66263),o=n(85903),s=n(98561),c=n(48135),i=n(79671),l=n(36470),u=n(13669),d=n(18361),m=n(44460),_=n(11163),x=n(67294),f=n(88767),p=n(16938);let v=()=>{let[e,t]=(0,x.useState)(""),n=(0,u.N)(e,500),{push:r}=(0,_.useRouter)(),a=(0,f.useQuery)(["actor list",n],()=>d.V.getAll(n),{select:e=>{let{data:t}=e;return t.map(e=>({_id:e._id||"",editUrl:(0,l.A7)("actor/edit/".concat(e._id)),items:[(null==e?void 0:e.name)?null==e?void 0:e.name:"",String(e.countMovies)]}))},onError:e=>{(0,m._)(e,"Actor list")}}),o=e=>{t(e.target.value)},{mutateAsync:s}=(0,f.useMutation)("create actor",()=>d.V.create(),{onError:e=>{(0,m._)(e,"Delete Actor")},onSuccess:e=>{let{data:t}=e;p.Rt.success("Create actor","Actor was created successful"),r((0,l.A7)("actor/edit/".concat(t)))}}),{mutateAsync:c}=(0,f.useMutation)("delete actor",e=>d.V.delete(e),{onError:e=>{(0,m._)(e,"Delete Actor")},onSuccess:()=>{p.Rt.success("Delete actor","Actor was deleted successful"),a.refetch()}});return(0,x.useMemo)(()=>({handleSearch:o,...a,searchTerm:e,deleteAsync:c,createAsync:s}),[a,e,c,s])},h=()=>{let{isLoading:e,data:t,deleteAsync:n,searchTerm:l,handleSearch:u,createAsync:d}=v();return(0,r.jsxs)(i.Z,{title:"Actors",children:[(0,r.jsx)(a.Z,{}),(0,r.jsx)(c.Z,{title:"Actors"}),(0,r.jsx)(o.Z,{handleSearch:u,searchTerm:l,onClick:d}),(0,r.jsx)(s.Z,{isLoading:e,removeHandler:n,headerItems:["Name","Count movies"],tableItems:t||[]})]})},j=()=>(0,r.jsx)(h,{});j.isOnlyAdmin=!0;var g=j},67933:function(e){e.exports={nav:"adminNavigation_nav___TpNr",active:"adminNavigation_active__da2_u"}},46652:function(e){e.exports={header:"adminHeader_header__EVL_f"}},47156:function(e){e.exports={actions:"adminTable_actions__2Z0V9",item:"adminTable_item__GRvwA",itemHeader:"adminTable_itemHeader__UVYFX",notFound:"adminTable_notFound__2tqmS"}},5130:function(e){e.exports={button:"form_button__yOLwy",common:"form_common__Y25KB",field:"form_field__MfP1o",uploadField:"form_uploadField__SfNcG",uploadFlex:"form_uploadFlex___EJSQ",uploadImageContainer:"form_uploadImageContainer__WmFzh",fade:"form_fade__luiBw",error:"form_error__sUS7j",editorWrapper:"form_editorWrapper__kd_SU",wrapper:"form_wrapper___Lju1",toolbar:"form_toolbar__nAnM_",editor:"form_editor__uwQTO"}}},function(e){e.O(0,[774,888,179],function(){return e(e.s=55437)}),_N_E=e.O()}]);