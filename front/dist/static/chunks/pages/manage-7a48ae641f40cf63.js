(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[867],{13157:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/manage",function(){return n(43025)}])},66263:function(e,t,n){"use strict";n.d(t,{Z:function(){return _}});var s=n(85893),i=n(67933),r=n.n(i),l=n(41664),a=n.n(l),c=n(94184),o=n.n(c),u=n(11163);let d=e=>{let{item:{title:t,link:n}}=e,{asPath:i}=(0,u.useRouter)();return(0,s.jsx)("li",{children:(0,s.jsx)(a(),{legacyBehavior:!0,href:n,children:(0,s.jsx)("a",{className:o()({[r().active]:i===n}),children:t})})})};var m=n(36470);let x=[{title:"Statistics",link:(0,m.wk)()},{title:"Users",link:(0,m.A7)("users")},{title:"Movies",link:(0,m.A7)("movies")},{title:"Actors",link:(0,m.A7)("actors")},{title:"Genres",link:(0,m.A7)("genres")}],p=()=>(0,s.jsx)("nav",{className:r().nav,children:(0,s.jsx)("ul",{children:x.map(e=>(0,s.jsx)(d,{item:e},e.link))})});var _=p},48135:function(e,t,n){"use strict";var s=n(85893);let i=e=>{let{title:t,className:n}=e;return(0,s.jsx)("h1",{className:"text-white text-opacity-80 font-semibold ".concat((null==n?void 0:n.includes("xl"))?"":"text-3xl"," ").concat(n),children:t})};t.Z=i},11946:function(e,t,n){"use strict";var s=n(85893);let i=e=>{let{title:t}=e;return(0,s.jsx)("h2",{className:"text-white text-xl mb-5 font-semibold",children:t})};t.Z=i},79671:function(e,t,n){"use strict";n.d(t,{Z:function(){return x}});var s=n(85893),i=n(9008),r=n.n(i),l=n(11163),a=n(28975);let c="Online cinema",o=e=>"".concat(e," | ").concat(c),u=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=e.replace(/<[^>]+>/g,"").replace(/&[^;]+>./g," ").replace(/([\u2700-\u27BF] | [\uE000-\uF8FF] | \uD83C[\uDC00-\uDFFF] | \uD83D[\uDC00-\uDFFF] | [\u2011-\u26FF] | \uD83E[\uDD10-\uDDFF])/g,"");return t&&(n=n.slice(0,t)+"..."),n};var d=n(83454);let m=e=>{let{title:t,description:n,image:i,children:m}=e,{asPath:x}=(0,l.useRouter)(),p="".concat(d.env.REACT_APP_URL).concat(x);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(r(),{children:[(0,s.jsx)("title",{itemProp:"headline",children:o(t)}),n?(0,s.jsxs)(r(),{children:[(0,s.jsx)("meta",{itemProp:"description",name:"description",content:u(n,152)}),(0,s.jsx)("link",{rel:"canonical",href:p}),(0,s.jsx)("meta",{property:"og:locale",content:"en"}),(0,s.jsx)("meta",{property:"og:title",content:o(t)}),(0,s.jsx)("meta",{property:"og:url",content:p}),(0,s.jsx)("meta",{property:"og:image",content:i||a.Z}),(0,s.jsx)("meta",{property:"og:site_name",content:c}),(0,s.jsx)("meta",{property:"og:description",content:u(n,197)})]}):(0,s.jsx)("meta",{name:"robots",content:"noindex, nofollow"})]}),m]})};var x=m},43025:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return w}});var s=n(85893),i=n(66263),r=n(48135),l=n(79671),a=n(66653),c=n.n(a),o=n(94184),u=n.n(o),d=n(88767),m=n(68347),x=n(4754),p=n(81759);let _={getCountUsers:async()=>p.ZP.get((0,x.Il)("/count"))},h=()=>{let{isLoading:e,data:t}=(0,d.useQuery)("Count users",()=>_.getCountUsers());return(0,s.jsx)("div",{className:u()(c().block,c().countUsers),children:(0,s.jsxs)("div",{children:[e?(0,s.jsx)(m.Z,{}):(0,s.jsx)("div",{className:c().number,children:null==t?void 0:t.data}),(0,s.jsx)("div",{className:c().description,children:"users"})]})})};var j=n(27669),v=n(11946),g=n(41664),f=n.n(g),N=n(36470),F=n(25675),k=n.n(F);let b=()=>{let{isLoading:e,data:t}=(0,d.useQuery)("Most popular movie in admin",()=>j.u.getMostPopularMovies(),{select:e=>e[0]});return(0,s.jsxs)("div",{className:u()(c().block,c().popular),children:[(0,s.jsx)(v.Z,{title:"The most popular movie"}),e?(0,s.jsx)(m.Z,{className:"h-48"}):t&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("h3",{children:["Открыто ",t.countOpen," раз"]}),(0,s.jsx)(f(),{href:(0,N.Xl)(t.slug),children:(0,s.jsx)(k(),{width:285,height:176,src:t.bigPoster,alt:t.title,className:c().image,unoptimized:!0})})]})]})},y=()=>(0,s.jsxs)("div",{className:c().statistics,children:[(0,s.jsx)(h,{}),(0,s.jsx)(b,{})]}),D=()=>(0,s.jsxs)(l.Z,{title:"Admin Panel",children:[(0,s.jsx)(i.Z,{}),(0,s.jsx)(r.Z,{title:"Some statistics"}),(0,s.jsx)(y,{})]}),Z=()=>(0,s.jsx)(D,{});Z.isOnlyAdmin=!0;var w=Z},66653:function(e){e.exports={statistics:"admin_statistics__0HQR7",block:"admin_block__lTifK",countUsers:"admin_countUsers__9FqPe",number:"admin_number__WcFYT",description:"admin_description__k1E_b",popular:"admin_popular__rCgsx"}},67933:function(e){e.exports={nav:"adminNavigation_nav___TpNr",active:"adminNavigation_active__da2_u"}}},function(e){e.O(0,[774,888,179],function(){return e(e.s=13157)}),_N_E=e.O()}]);