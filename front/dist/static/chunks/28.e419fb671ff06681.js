"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[28],{39028:function(e,t,r){r.r(t),r.d(t,{default:function(){return c}});var a=r(85893),l=r(59488),n=r(21277);let i=()=>(0,a.jsx)("div",{className:"mt-11 bg-grey-700 bg-opacity-20 py-3 px-5 rounded-lg text-white text-opacity-80",children:"Для просмотра избранных фильмов нужно авторизоваться!"});var s=r(82875);let o=()=>{let{favorites:e}=(0,l.r)(),{user:t,isLoading:r}=(0,s.a)();return(0,a.jsx)("div",{children:!e||r?(0,a.jsx)(i,{}):!r&&(0,a.jsx)(n.Z,{movies:(null==e?void 0:e.slice(0,3))||[],title:"Favorites",link:"/favorites"})})};var c=o},59488:function(e,t,r){r.d(t,{r:function(){return i}});var a=r(82875),l=r(80774),n=r(88767);let i=()=>{let{user:e}=(0,a.a)(),{isLoading:t,data:r,refetch:i}=(0,n.useQuery)("Favorite movies",()=>l.W.getFavorites(),{select:e=>{let{data:t}=e;return t},enabled:!!e});return{isLoading:t,favorites:r,refetch:i}}},80774:function(e,t,r){r.d(t,{W:function(){return n}});var a=r(4754),l=r(81759);let n={getAll:async e=>l.ZP.get((0,a.Il)(""),{params:e?{searchTerm:e}:{}}),getProfile:async()=>l.ZP.get((0,a.Il)("/profile")),getFavorites:async()=>l.ZP.get((0,a.Il)("profile/favorites")),toggleFavorite:async e=>l.ZP.put((0,a.Il)("profile/favorites"),{movieId:e}),updateProfile:async e=>l.ZP.put((0,a.Il)("/profile"),e),getById:async e=>l.ZP.get((0,a.Il)("/".concat(e))),update:async(e,t)=>l.ZP.put((0,a.Il)("/".concat(e)),t),deleteUser:async e=>l.ZP.delete((0,a.Il)("/".concat(e)))}}}]);